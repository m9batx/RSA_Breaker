import math
import sympy
def is_square(n):
    return int(n)**2 == n
N = 2971855795035753813987907215882392353560937844074446114682017402994501534996027864595546087264518437590262345337580619471767891902156785034388733048506526718289675510324212728762204606875180784454271694042387888131005330037849813653407481007704961816526977476735636360470687649929684875078144839614128347067457088904503034998409576972844789028671194420782021014145462315863394956121740649234540022289460361441970413990663666785832953236786101295642978837731539530790689959026918881997475237820494350254050912051626935767734330976939515687436697783015791735960613795624746038680650411664134406816971750121906871937017
a = math.isqrt(N) + 1  # Use math.isqrt for integer square root
while True:
    b2 = ((a * a) - N)
    if is_square(b2):  # Check if b2 is a perfect square
        b = math.isqrt(b2)  # Use math.isqrt for integer square root
        break
    a = a + 1

    # Calculate p and q based on Fermat's factorization
    p1 = a + b
    q1 = a - b
    if N == p1 * q1:
        print("Attack successful! Found factors of N.")